function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var i=t,o=e,a=r;s=c=u=void 0,n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;t=c,e=o,r=a,n=!0}};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("uptime-robot"),require("bluebird"),require("lodash"),require("request")):"function"==typeof define&&define.amd?define(["exports","uptime-robot","bluebird","lodash","request"],e):e(t["null"]={},t.Client,t.bluebird,t._,t.request)}(this,function(t,e,r,n,i){"use strict";e="default"in e?e["default"]:e,r="default"in r?r["default"]:r,n="default"in n?n["default"]:n,i="default"in i?i["default"]:i;var o,a=function(t){function e(t,r){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.name=this.constructor.name,this.statusCode=t,this.message=r}return _inherits(e,t),e}(Error),s=a,u="monitor",c=function(){function t(e){_classCallCheck(this,t),this.id=e.id,this.friendlyName=e.friendlyname,this.URL=e.url,this.type=e.type||"1",this.subType=e.subtype,this.keywordType=e.keywordtype,this.keywordValue=e.keywordvalue,this.HTTPUsername=e.httpusername,this.HTTPPassword=e.httppassword,this.log=e.log||[],this.alertContacts=this.contacts,this.interval=e.interval,o=[]}return _createClass(t,[{key:"validate",value:function(){return n.has(this,"friendlyName")?n.has(this,"URL")?!0:Error("`monitorURL` not defined"):Error("`monitorFriendlyName` not defined")}},{key:"parse",value:function(){var t=this,e=n.keys(this);return n.chain(e).map(function(e){return"log"==e||"_"===e.charAt(0)?null:[u+e.charAt(0).toUpperCase()+e.slice(1),t[e]]}).object().value()}},{key:"contact",set:function(t){o.push(t)}},{key:"contacts",get:function(){return n.map(o,function(t){return t.toString()}).join("-")}}],[{key:"singular",get:function(){return u}},{key:"plural",get:function(){return u+"s"}}]),t}();t.Monitor=c;var l="alertContact",f=function(){function t(e){_classCallCheck(this,t),this.id=e.id,this.friendlyName=e.friendlyname,this.type=e.type||"2",this.value=e.value,this.config={threshold:0,recurrence:0}}return _createClass(t,[{key:"toString",value:function(){return[this.id,this.config.threshold,this.config.recurrence].join("_")}},{key:"validate",value:function(){return n.has(this,"type")&&n.has(this,"value")?!0:Error("`type` not defined")}},{key:"parse",value:function(){var t=this,e=n.keys(this);return n.chain(e).map(function(e){return"config"===e?null:[l+e.charAt(0).toUpperCase()+e.slice(1),t[e]]}).filter().object().value()}}],[{key:"singular",get:function(){return l}},{key:"plural",get:function(){return l+"s"}}]),t}();t.Contact=f;var h="http://api.uptimerobot.com/",p=function(){function t(e){if(_classCallCheck(this,t),""===e||"string"!=typeof e)throw new Error("Uptime Robot API Key must be provided");this.apiKey=e}return _createClass(t,[{key:"request",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o={method:t,uri:h+e};return o.json=!0,n.apiKey=this.apiKey,n.noJsonCallback=1,n.format="json","GET"===t?o.qs=n:o.form=n,new r(function(t,e){i(o,function(r,n,i){return r?e(r):n.statusCode&&200!==n.statusCode?e(new s(n.statusCode,"Server responded with an "+n.statusCode+" status code!")):"ok"!==i.stat?e(new s(i.id,i.message)):t(i)})})}},{key:"list",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new r(function(r,o){var a={};if(i.name==c.name){if(!e.logs&&e.alertContacts)return o(new Error("logs is required if alert contacts is true."));e.monitors&&(a.monitors=e.monitors.join("-")),e.customUptimeRatio&&(a.customUptimeRatio=e.customUptimeRatio.join("-")),e.logs&&(a.logs="1"),e.alertContacts&&(a.alertContacts="1"),e.showMonitorAlertConcats&&(a.showMonitorAlertConcats="1"),e.showTimezone&&(a.showTimezone="1")}else i.name==f.name&&(e.alertcontacts&&(a.alertcontacts=e.alertcontacts.join("-")),e.offset&&(a.offset=e.offset),e.limit&&(a.limit=e.limit));var s="get"+i.plural.charAt(0).toUpperCase()+i.plural.slice(1);return t.request("GET",s,a).then(function(t){var e=n.map(t[i.plural.toLowerCase()][i.singular.toLowerCase()],function(t){return new i(t)});r(e)})["catch"](o)})}},{key:"create",value:function(t){var e=this;return new r(function(r,n){switch(!0){case t instanceof c:case t instanceof f:if(!t.validate())return n(t.validate());break;default:return n(typeof t+" is an unsupported instance")}var i=t.constructor.singular,o="new"+i.charAt(0).toUpperCase()+i.slice(1);e.request("GET",o,t.parse()).then(function(e){return e[t.singular]})})}},{key:"edit",value:function(t){var e=this;return new r(function(r,n){switch(!0){case t instanceof c:case t instanceof f:if(!t.validate())return n(t.validate());default:return n("This is an unsupported instance")}var i=t.constructor.singular,o="edit"+i.charAt(0).toUpperCase()+i.slice(1);return e.request("GET",o,t.parse()).then(function(e){r(e[t.singular])})["catch"](n)})}},{key:"remove",value:function(t){var e=t.constructor.singular,r="delete"+e.charAt(0).toUpperCase()+e.slice(1);return this.request("GET",r,{monitorID:t.id}).then(function(e){return e[t.singular]})}}]),t}(),d=p;t.Client=d});
//# sourceMappingURL=uptime-robot-dist.min.js.map